<!DOCTYPE html>
<html lang="en">
<head>


	<style>
	.container{
		display: flex;
		justify-content: center;
		align-items: center;
		min-height: 100%;  /* Fallback for browsers do NOT support vh unit */
		min-height: 100vh;
		opacity: 0.9;
		padding: 5em inherit;
	}

.ui-autocomplete {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    float: left;
    display: none;
    min-width: 160px;   
    padding: 4px 0;
    margin: 0 0 10px 25px;
    list-style: none;
    background-color: #ffffff;
    border-color: #ccc;
    border-color: rgba(0, 0, 0, 0.2);
    border-style: solid;
    border-width: 1px;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    -moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    -webkit-background-clip: padding-box;
    -moz-background-clip: padding;
    background-clip: padding-box;
    *border-right-width: 2px;
    *border-bottom-width: 2px;
}

.ui-menu-item > a.ui-corner-all {
    display: block;
    padding: 3px 15px;
    clear: both;
    font-weight: normal;
    line-height: 18px;
    color: #555555;
    white-space: nowrap;
	</style>
	<title>Registration</title>

	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>


	<script
  src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"
  integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk="
  crossorigin="anonymous"></script>
	

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>

	<script>

		$( function() {
    var availableTags = [
      	"Accounting",
	"Accounting / International Business",
	"Actuarial Science Certificate",
	"Advertising",
	"Aerospace Studies (Air Force ROTC)",
	"African American Studies",
	"African American Studies Certificate",
	"African Languages and Literatures MALL",
	"African Studies Certificate",
	"Agribusiness",
	"Agribusiness Law Certificate",
	"Agricultural & Applied Economics",
	"Agricultural Communication",
	"Agricultural Education",
	"Agricultural Engineering",
	"Agriscience & Environmental Systems",
	"Animal Health",
	"Animal Science",
	"Anthropology",
	"Applied Biotechnology",
	"Applied Data Science",
	"Arabic",
	"Archaeological Sciences Certificate",
	"Art - Art X: Expanded Forms",
	"Art - Ceramics",
	"Art - Drawing",
	"Art - Fabric Design",
	"Art - Graphic Design",
	"Art - Jewelry & Metalwork",
	"Art - Painting",
	"Art - Photography",
	"Art - Printmaking & Book Art",
	"Art - Scientific Illustration",
	"Art - Sculpture",
	"Art and Design Art Education",
	"Art History",
	"Asian Language & Literature",
	"Asian Studies Certificate",
	"Athletic Training",
	"Atmospheric Sciences Avian Biology",
	"Biochemical Engineering",
	"Biochemistry & Molecular Biology",
	"Biological Engineering",
	"Biological ScienceBiology",
	"Biology / Science Education",
	"British & Irish Studies Certificate",
	"Business & Political German Certificate",
	"Cellular Biology",
	"Chemistry (B.S.)",
	"Chemistry (B.S.Chem.)",
	"Civil Engineering",
	"Classical Culture",
	"Classical Languages - Latin",
	"Coastal & Oceanographic Eng. Cert.",
	"Cognitive Science",
	"Communication Sciences & Disorders",
	"Communication Studies",
	"Community Forestry Certificate",
	"Comparative Literature",
	"Computer Science",
	"Computer Systems Engineering",
	"Computing Certificate",
	"Consumer Economics",
	"Consumer Foods",
	"Consumer Journalism",
	"Criminal Justice",
	"Dairy ScienceDance (A.B.)",
	"Dance (B.F.A.)",
	"Dietetics",
	"Digital Humanities Certificate Disability Studies Certificate",
	"Disaster Management Certificate",
	"Early Childhood Education",
	"Ecology (A.B.)",
	"Ecology (B.S.)",
	"Economics (A.B.)",
	"Economics (B.B.A.)",
	"Economics / International Business",
	"Electrical and Electronics Engineering",
	"Engineering Physics Certificate",
	"Engineering Science Certificate",
	"English",
	"English / English Education",
	"English Education",
	"Entertainment and Media Studies",
	"Entomology",
	"Entrepreneurship Certificate",
	"Environmental Economics & Management",
	"Environmental Education Certificate",
	"Environmental Engineering",
	"Environmental Ethics Certificate",
	"Environmental Health Science Environmental Resource Science",
	"Exercise & Sport Science",
	"Family & Consumer Sciences Education",
	"Fashion Merchandising",
	"Film Studies",
	"FinanceFinance / International Business",
	"Financial Planning",
	"Fisheries & Wildlife",
	"Food Industry Marketing & Administration",
	"Food Science",
	"Forestry",
	"French",
	"Furnishings & Interiors",
	"General Business (Griffin)",
	"General Business (Online)",
	"Genetics",
	"Geographic Information Science Cert.",
	"Geography (A.B.)",
	"Geography (B.S.)",
	"Geology (A.B.)",
	"Geology (B.S.)",
	"German",
	"Germanic and Slavic Studies",
	"Global Health Certificate",
	"Global Studies Certificate",
	"Greek",
	"Health and Physical Education",
	"Health Promotion",
	"Historic Preservation Certificate",
	"History",
	"History / Social Studies Education",
	"Honors Interdisc. Studies (A.B.)",
	"Honors Interdisc. Studies (B.S.)",
	"Honors Interdisc. Studies (B.S.A.)",
	"Honors Interdisc. Studies (B.S.F.C.S.)",
	"Horticulture",
	"Housing Management and Policy",
	"Human Development and Family Science",
	"Informatics Certificate",
	"Interdisciplinary Studies (A.B.)",
	"Interdisciplinary Studies (A.B.)",
	"Interdisciplinary Studies (B.F.A.)",
	"Interdisciplinary Studies (B.S.)",
	"Interdisciplinary Writing Certificate",
	"Interior Design",
	"International Affairs",
	"International Agriculture Certificate", 
	"International Business",
	"Italian",
	"Journalism",
	"Landscape Architecture",
	"Latin American & Caribbean Studies",
	"Leadership & Service Certificate",
	"Legal Studies Certificate",
	"Linguistics",
	"Local Food Systems Certificate",
	"Management",
	"Management / International Business",
	"Management Info Systems / Int'l Business",
	"Management Information Systems",
	"MarketingMarketing / International Business",
	"Mathematics",
	"Mathematics / Mathematics Education",
	"Mathematics Education",
	"Mechanical Engineering",
	"Medieval Studies Certificate",
	"Microbiology",
	"Middle School Education",
	"Music",
	"Music Business Certificate",
	"Music Composition",
	"Music Education",
	"Music Performance",
	"Music Theory",
	"Music Therapy",
	"Native American Studies Certificate",
	"Natural Resource Mgmt and Sustainability",
	"Natural Resource Recreation & Tourism",
	"New Media Certificate",
	"Nutritional Sciences",
	"Organic Agriculture Certificate",
	"Personal & Org. Leadership Cert.",
	"Pharmaceutical Sciences",
	"Pharmacy",
	"Pharmacy Entrepreneurship Certificate", 
	"Philosophy",
	"Physics",
	"Physics & Astronomy",
	"Plant Biology",
	"Plant Health Management Certificate",
	"Political Science",
	"Poultry Science",
	"Pre-Business",
	"Pre-Dentistry",
	"Pre-Forest Resources",
	"Pre-Journalism",
	"Pre-Law",
	"Pre-Medicine",
	"Pre-Optometry",
	"Pre-Pharmacy",
	"Pre-Theology",
	"Pre-Veterinary Medicine (B.S.)",
	"Pre-Veterinary Medicine (B.S.A.)",
	"Pre-Veterinary Medicine (B.S.F.R.)",
	"Psychology",
	"Public Affairs Professional Certificate",
	"Public Relations",
	"Real Estate",
	"Real Estate / International Business",
	"Religion",
	"Risk Management & Insurance",
	"Risk Mgmt & Insurance / Int'l Business",
	"Romance Languages",
	"Russian",
	"Science Education",
	"Social Studies Education",
	"Social Work",
	"Sociology",
	"Spanish",
	"Special Education",
	"Sport Management",
	"Sports Media Certificate",
	"Statistics",
	"Studio Art Core & Minor",
	"Sustainability Certificate Theatre",
	"Turfgrass Management",
	"Water & Soil Resources (B.S.E.S.)",
	"Water Resources Certificate",
	"Women's Studies",
	"World Language Education"
    ];
    $( "#major" ).autocomplete({
      source: availableTags
    });
  } );
  
	// Numeric only control handler
jQuery.fn.ForceNumericOnly =
function()
{
    return this.each(function()
    {
        $(this).keydown(function(e)
        {
            var key = e.charCode || e.keyCode || 0;
            // allow backspace, tab, delete, enter, arrows, numbers and keypad numbers ONLY
            // home, end, period, and numpad decimal
            return (
                key == 8 || 
                key == 9 ||
                key == 13 ||
                key == 46 ||
                key == 110 ||
                key == 190 ||
                (key >= 35 && key <= 40) ||
                (key >= 48 && key <= 57) ||
                (key >= 96 && key <= 105));
        });
    });
};
	$(document).ready(function(){
		 $("#number").mask('(000) 000-0000');
		 $("#dob").mask('00-00-0000');

		 $("#apt").ForceNumericOnly();


		 $("#zipcode").ForceNumericOnly();

                      /*

                      {
			         "email": "stephenoakala@gmail.com",
			         "password": "281330800fB",
			         "first_name": "Stephen",
			         "last_name":"Okala",
			         "university":"Georgia Tech",
			         "phone_numnber":"571-344-9998",
			          "state": "VA",
			          "street": "hood avenue",
			          "city": "Chantilly",
			          "apt": "115",
			         "date_of_birth":"1/27/1993",
			         "major":" "Computer Science",
			         "year":1,
			         "description":"realest of the real"
        			}
                       */
			
			$("#next").click(function(){


				var fname = $("#fname").val();
				var lname = $("#lname").val();
				var number = $("#number").val();
				var dob = $("#dob").val();
                var university= "UGA";
				var email = $("#email").val();
				var state = $("#state").val();
				var city = $("#city").val();
				var street = $("#street").val();
				var apt= $("#apt").val();
				var zipcode= $("#zipcode").val();

				var major = $("#major").val();
                var password= " ";
                var description = " ";
				var grade = $('input[name=optradio]:checked').val();
                             if(grade=="Freshman"){
                             grade=1;
                             }else if(grade == "Sophmore"){
                             grade=2;
                             }else if(grade == "Junior"){
                             grade=3;
                             }else if(grade == "Senior"){
                             grade=4;
                             }else if(grade== "Victory Lap"){
                             grade=5;
                             }else{
                             	grade=null;
                             }
				var id = $("#customFile");
				console.log(id[0].files[0]);
				var file_data = id[0].files[0];
				var form_data = new FormData();
				form_data.append("file", file_data);
				var registrationInfo = {
					 first_name: fname,
					 last_name: lname,
					 phone_number: number,
                     university: university,
					 date_of_birth: dob,
					 email: email,
					 major:major,
					 year:grade,
                     password: password,
                     description: description,
                     state:state,
                     city:city,
                     street: street,
                     apt:apt,
                     zipcode:zipcode
				 }

				 var ajaxFunction= function (){
						 return $.ajax({
						type: 'POST',
						contentType: "application/json",
						url: 'https://uzo-web-app.herokuapp.com/insert_student',
					   data:JSON.stringify(registrationInfo)
						}).done(function(data) {
		                    var result= JSON.parse(data);
		      
					    sessionStorage.setItem("student_id",result.student_id);

						});
				}

				var documentUpload= function (){
						 return $.ajax({
						type: 'POST',
				        enctype: 'multipart/form-data',
				        processData: false,  // Important!
				        contentType: false,
				        cache: false,
						url: 'https://uzo-web-app.herokuapp.com/upload_student_resource',
					   data:form_data,
						}).done(function(data) {
		                    var result= JSON.parse(data);



						});
				}

        		//Need to change this when the other adress stuff is put in
				if(!fname || !lname  ||!number  || !dob  || !email  || !major || !grade || !id[0].files[0] || !state || !city || !street || !zipcode){
						alert("You must fill in required fields!");
					}
				else{
					$.when(ajaxFunction()).done(function(a1){
						form_data.append("student_id", parseInt(sessionStorage.getItem("student_id")));
						console.log(sessionStorage.getItem("student_id"));

						var settings = {
						  "url": "https://uzo-web-app.herokuapp.com/upload_student_resource",
						  "method": "POST",
						  "processData": false,
						  "contentType": false,
						  "mimeType": "multipart/form-data",
						  "data": form_data,
						  	   error: function (e) {

				                $("#result").text(e.responseText);
				                console.log("ERROR : ", e);


				            }
						}

						$.ajax(settings).done(function (response) {
						  console.log(response);
						  window.location.replace("registrationPage2.html")
						});

						});

				$("#next").prop("disabled",false);
			}
			});
		});
	</script>
</head>

<body>
	<div class="jumbotron">
		<h1 align="center">Registration</h1>
		<p align="center">Please fill out this form correctly.</p>
	</div>
	<div class="progress">
		<div class="progress-bar" role="progressbar" style="width: 33%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
	</div>
	<div id="login-overlay" class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<div class="panel-title text-center">
					<h1 class="title">Step 1: Basic Information</h1>
				</div>
			</div>
			<div class="modal-body">
							<form id="registerForm" method="POST">
								<div class="form-group">
									<div class="col-md-6">
										<label for="name">First Name</label>
										<div class="input-group">
											<input type="text" class="form-control" name="fname" id="fname"  placeholder="As Shown On Driver License"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="number" >Phone Number</label>
										<div class="input-group">
											<input type="text" class="form-control" name="number" id="number" placeholder="Enter Phone Number"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="number" >Apt</label>
										<div class="input-group">
											<input type="text" class="form-control" name="number" id="apt" placeholder="Enter Apartment Number"/>
											<span class="input-group-addon"></span></span>
										</div>
										<br>
										
										<label for="state">State</label>
										<div >
											<select class="form-control" id="state" name="state">
												<option value="">N/A</option>
												<option value="AK">Alaska</option>
												<option value="AL">Alabama</option>
												<option value="AR">Arkansas</option>
												<option value="AZ">Arizona</option>
												<option value="CA">California</option>
												<option value="CO">Colorado</option>
												<option value="CT">Connecticut</option>
												<option value="DC">District of Columbia</option>
												<option value="DE">Delaware</option>
												<option value="FL">Florida</option>
												<option value="GA">Georgia</option>
												<option value="HI">Hawaii</option>
												<option value="IA">Iowa</option>
												<option value="ID">Idaho</option>
												<option value="IL">Illinois</option>
												<option value="IN">Indiana</option>
												<option value="KS">Kansas</option>
												<option value="KY">Kentucky</option>
												<option value="LA">Louisiana</option>
												<option value="MA">Massachusetts</option>
												<option value="MD">Maryland</option>
												<option value="ME">Maine</option>
												<option value="MI">Michigan</option>
												<option value="MN">Minnesota</option>
												<option value="MO">Missouri</option>
												<option value="MS">Mississippi</option>
												<option value="MT">Montana</option>
												<option value="NC">North Carolina</option>
												<option value="ND">North Dakota</option>
												<option value="NE">Nebraska</option>
												<option value="NH">New Hampshire</option>
												<option value="NJ">New Jersey</option>
												<option value="NM">New Mexico</option>
												<option value="NV">Nevada</option>
												<option value="NY">New York</option>
												<option value="OH">Ohio</option>
												<option value="OK">Oklahoma</option>
												<option value="OR">Oregon</option>
												<option value="PA">Pennsylvania</option>
												<option value="PR">Puerto Rico</option>
												<option value="RI">Rhode Island</option>
												<option value="SC">South Carolina</option>
												<option value="SD">South Dakota</option>
												<option value="TN">Tennessee</option>
												<option value="TX">Texas</option>
												<option value="UT">Utah</option>
												<option value="VA">Virginia</option>
												<option value="VT">Vermont</option>
												<option value="WA">Washington</option>
												<option value="WI">Wisconsin</option>
												<option value="WV">West Virginia</option>
												<option value="WY">Wyoming</option>
											</select>
										</div>

										<br>
										<label for="number" >Date of Birth</label>
										<div class="input-group">
											<input type="text" class="form-control" name="dob" id="dob" placeholder="MM-DD-YYYY"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<hr>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-6">
										<label for="name">Last Name</label>
										<div class="input-group">
											<input type="text" class="form-control" name="lname" id="lname"  placeholder="As Shown On Driver License"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="name" >Street</label>
										<div class="input-group">
											<input type="text" class="form-control" name="street" id="street" placeholder="Enter The Street"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="name" >City</label>
										<div class="input-group">
											<input type="text" class="form-control" name= "city" id="city" placeholder="Enter The City"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="number" >Zipcode</label>
										<div class="input-group">
											<input type="text" class="form-control" name="zipcode" id="zipcode" placeholder="Enter The Zipcode"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<br>
										<label for="name">Email Address</label>
										<div class="input-group">
											<input type="text" class="form-control" name="email" id="email" placeholder="Enter Email Address"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
										<hr>
									</div>
								</div>

								<hr>

								<div class="form-group">
									<div class="col-md-12">
										<label for="number" >Major</label>
										<div class="input-group">
											<input type="text" class="form-control" name="major" id="major" placeholder="Enter Major"/>
											<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
										</div>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-12">
										<label for="grade">Grade</label>
										<div class="radio">
											<label><input type="radio" name="optradio" value="Freshman">Freshman</label>
										</div>
										<div class="radio">
											<label><input type="radio" name="optradio" value="Sophmore">Sophmore</label>
										</div>
										<div class="radio">
											<label><input type="radio" name="optradio" value="Junior">Junior</label>
										</div>
										<div class="radio">
											<label><input type="radio" name="optradio" value="Senior">Senior</label>
										</div>
										<div class="radio">
											<label><input type="radio" name="optradio" value="Victory Lap">Victory Lap</label>
										</div>

										<br>
									</div>
								</div>

								<br>


								<div class="custom-file">
									<div class="col-md-12">
										<h5 align="center">Please provide proof that you are a  student by uploading a photo of the front of your college ID</h5>
										<input type="file" class="custom-file-input" id="customFile">

									</div>

								</div>
								<br>

								<div class="form-group ">
									<div class="input-group-addon">
										<button type="button" class="btn btn-success pull-right" id="next">Next</button>
									</div>

								</div>
							</form>



			</div>
		</div>
	</div>


</body>
</html>
